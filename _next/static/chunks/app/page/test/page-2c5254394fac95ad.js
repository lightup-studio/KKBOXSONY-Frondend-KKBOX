(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[307],{9112:function(t,e,s){Promise.resolve().then(s.bind(s,8341)),Promise.resolve().then(s.bind(s,2041))},5559:function(t,e,s){"use strict";let c=s(257).env.NEXT_PUBLIC_BASE_PATH||"";e.Z={SecFormQ:{Q1:"".concat(c,"/audio/Q1.mp3"),Q2:"".concat(c,"/audio/Q2.mp3"),Q31:"".concat(c,"/audio/Q3_1.mp3"),Q32:"".concat(c,"/audio/Q3_2.mp3"),Q41:"".concat(c,"/audio/Q4_1.mp3"),Q42:"".concat(c,"/audio/Q4_2.mp3"),Q43:"".concat(c,"/audio/Q4_3.mp3"),Q44:"".concat(c,"/audio/Q4_4.mp3"),Q51:"".concat(c,"/audio/Q5_320K.mp3"),Q52:"".concat(c,"/audio/Q5_HiFi.wav")},BGM:{BGM:"".concat(c,"/audio/BGM.mp3")}}},2041:function(t,e,s){"use strict";s.d(e,{default:function(){return q}});var c=s(7437),n=s(2399),a=s.n(n),o=s(3145),r=s(5014),i=s(2265),l=s(9390),u=s(4013),m=s(4474),d=s(5588),_=s(6625),x=s.n(_),h=s(5559),p=s(7468),j=s(9762),F=t=>{let{onSubmit:e,onComplete:n,secActiveStep:a}=t,[l,u]=(0,i.useState)(0),[m,d]=(0,i.useState)(h.Z.SecFormQ.Q1),_=(0,i.useRef)(null),F=(0,i.useRef)(null),g=(0,i.useRef)(null),T=(0,i.useRef)(null),v=(0,i.useRef)(null),b=(0,i.useRef)(null),q=(0,i.useRef)(null),S=(0,i.useRef)(null),N=(t,e,s)=>{t&&(S.current=setTimeout(()=>{t.muted=!1,t.volume=s,t.play(),O.current&&O.current.play()},e))},B=(t,e,s)=>{d(t),_.current&&_.current.load(),N(_.current,e,s)},f=(t,e,s)=>{t.every(t=>null!==t)&&(t.forEach(t=>{t.muted=!0}),S.current=setTimeout(()=>{t.forEach(t=>{t.muted=!1,t.volume=s,t.play()}),O.current&&O.current.play()},e))},C=(t,e,s)=>{t.forEach(t=>{t&&t.load()}),f(t,e,s)},[y,w]=(0,i.useState)(!0);(0,i.useEffect)(()=>{window.innerWidth<=481?w(!1):w(!0)},[]),(0,i.useEffect)(()=>(_.current&&(_.current.pause(),_.current.currentTime=0),[T,v,b,q].forEach(t=>{t.current&&(t.current.pause(),t.current.currentTime=0)}),[F,g].forEach(t=>{t.current&&(t.current.pause(),t.current.currentTime=0)}),S.current&&clearTimeout(S.current),0===l&&B(h.Z.SecFormQ.Q1,1e3,1),1===l&&B(h.Z.SecFormQ.Q2,1e3,1),2===l&&C([F.current,g.current].filter(t=>null!==t),1e3,1),3===l&&C([T.current,v.current,b.current,q.current].filter(t=>null!==t),1e3,1),a(l),()=>{S.current&&clearTimeout(S.current)}),[l]);let[k,I]=(0,i.useState)(null),[Q,A]=(0,i.useState)(null),[Z,G]=(0,i.useState)(null);(0,i.useEffect)(()=>{(async()=>{try{let t=await Promise.resolve().then(s.t.bind(s,4567,19)),e=await Promise.resolve().then(s.t.bind(s,7721,19)),c=await Promise.resolve().then(s.t.bind(s,6135,19));I(t.default),A(e.default),G(c.default)}catch(t){console.error("Failed to load animation:",t)}})()},[]);let[H,E]=(0,i.useState)({Q1:"",Q2:"",Q3:"",Q4:"",Q5:"",Q6:""}),L=["1","2","3","4","5","6"],K=()=>{u(t=>t+1)},M=t=>{e(t),n()};(0,i.useEffect)(()=>{l>=(null==L?void 0:L.length)-1&&""!=H.Q6&&M(H)},[l,H,null==L?void 0:L.length]);let O=(0,i.useRef)(null),D=(0,i.useMemo)(()=>{console.log("audioRef.current",_.current);let t=(t,e)=>{E({...H,[t]:e})};return(0,c.jsxs)("div",{className:"".concat(x().question," ").concat(x()["question".concat(l)]),children:[(0,c.jsxs)("div",{className:"".concat(x().questionStep," ").concat(x()["question".concat(l,"Step")]),children:[(0,c.jsxs)("div",{className:"".concat(x().questionStepBarGroup),children:[(0,c.jsx)("div",{className:"\n                ".concat(x().questionStep,"\n                ").concat(x()["question".concat(l,"Text")],"\n                ").concat((null==H?void 0:H.Q1)===""?"":x().active,"\n                ").concat(0===l?x().active:"","\n                ")}),(0,c.jsx)("div",{className:"\n                ".concat(x().questionStep,"\n                ").concat(x()["question".concat(l,"Text")],"\n                ").concat((null==H?void 0:H.Q2)===""?"":x().active,"\n                ").concat(1===l?x().active:"","\n                ")}),(0,c.jsx)("div",{className:"\n                ".concat(x().questionStep,"\n                ").concat(x()["question".concat(l,"Text")],"\n                ").concat((null==H?void 0:H.Q3)===""?"":x().active,"\n                ").concat(2===l?x().active:"","\n                ")}),(0,c.jsx)("div",{className:"\n                ".concat(x().questionStep,"\n                ").concat(x()["question".concat(l,"Text")],"\n                ").concat((null==H?void 0:H.Q4)===""?"":x().active,"\n                ").concat(3===l?x().active:"","\n                ")}),(0,c.jsx)("div",{className:"\n                ".concat(x().questionStep,"\n                ").concat(x()["question".concat(l,"Text")],"\n                ").concat((null==H?void 0:H.Q5)===""?"":x().active,"\n                ").concat(4===l?x().active:"","\n                ")}),(0,c.jsx)("div",{className:"\n                ".concat(x().questionStep,"\n                ").concat(x()["question".concat(l,"Text")],"\n                ").concat((null==H?void 0:H.Q6)===""?"":x().active,"\n                ").concat(5===l?x().active:"","\n                ")})]}),(0,c.jsx)("div",{className:"".concat(x().questionStepBarNum," ").concat(x()["question".concat(l,"StepBarNum")]),children:(0,c.jsxs)("span",{children:[l+1,"/",null==L?void 0:L.length]})})]}),(t=>{switch(t){case 0:return(0,c.jsxs)("div",{className:"".concat(x().questionText," ").concat(x()["question".concat(t,"Text")]),children:[(0,c.jsx)("span",{children:"首先，和你介紹我的小夥伴"}),(0,c.jsx)("span",{children:"請問這是什麼動物的聲音呢？"})]});case 1:return(0,c.jsxs)("div",{className:"".concat(x().questionText," ").concat(x()["question".concat(t,"Text")]),children:[(0,c.jsx)("span",{children:"咦！遠處傳來悠揚的歌聲，"}),(0,c.jsx)("span",{children:"你聽得見她在唱什麼嗎？"})]});case 2:return(0,c.jsxs)("div",{className:"".concat(x().questionText," ").concat(x()["question".concat(t,"Text")]),children:[(0,c.jsx)("span",{children:"唉~森林精靈又在搗蛋 ‧‧‧"}),(0,c.jsx)("span",{children:"可以幫我數一數，他們丟了幾"}),(0,c.jsx)("span",{children:"顆石頭到水裡嗎？"})]});case 3:return(0,c.jsxs)("div",{className:"".concat(x().questionText," ").concat(x()["question".concat(t,"Text")]),children:[(0,c.jsx)("span",{children:"你看！前方是大名鼎鼎的音享合唱"}),(0,c.jsx)("span",{children:"團，他們的特色是 ‧‧‧ 不會同時只唱"}),(0,c.jsx)("span",{children:"一首歌（笑）你聽得出來，現在他"}),(0,c.jsx)("span",{children:"們同時在唱幾首歌嗎？"})]});case 4:return(0,c.jsxs)("div",{className:"".concat(x().questionText," ").concat(x()["question".concat(t,"Text")]),children:[(0,c.jsx)("span",{children:"突然！遇見森林裡的大魔王，"}),(0,c.jsx)("span",{children:"他決定出一道困難的題目 ‧‧‧"}),(0,c.jsx)("span",{children:"請選出下列哪一個音檔的音質"}),(0,c.jsx)("span",{children:"較佳呢？"})]});case 5:return(0,c.jsxs)("div",{className:"".concat(x().questionText," ").concat(x()["question".concat(t,"Text")]),children:[(0,c.jsx)("span",{children:"最後，為了找到你的命定耳機，"}),(0,c.jsx)("span",{children:"請選出你最喜歡哪一種音享效果？"})]});default:return"未知步驟"}})(l),5!=l&&(t=>{switch(t){case 0:return(0,c.jsx)("div",{className:"questionImg ".concat(x().questionImg," ").concat(x()["question".concat(l,"Img")]),children:(0,c.jsx)(j.J5,{ref:O,className:"".concat(x().img),loop:!0,src:p.Z.Anime.Q1,style:{height:"auto",width:"auto"},autoplay:!1})});case 1:return(0,c.jsx)("div",{className:"".concat(x().questionImg," ").concat(x()["question".concat(l,"Img")]),children:(0,c.jsx)(o.default,{className:"".concat(x().img," ").concat(x()["img".concat(l)]),src:r.Z.secForm.Q2.src,alt:"questionImg",width:440,height:202},l)});case 2:return(0,c.jsx)("div",{className:"questionImg ".concat(x().questionImg," ").concat(x()["question".concat(l,"Img")]),children:(0,c.jsx)(j.J5,{ref:O,className:"".concat(x().img),loop:!0,src:p.Z.Anime.Q3,style:{height:"auto",width:"auto"},autoplay:!1})});case 3:return(0,c.jsx)("div",{className:"questionImg ".concat(x().questionImg," ").concat(x()["question".concat(l,"Img")]),children:(0,c.jsx)(j.J5,{ref:O,className:"".concat(x().img),loop:!0,src:p.Z.Anime.Q4,style:{height:"auto",width:"auto"},autoplay:!1})});case 4:return(0,c.jsx)("div",{className:"".concat(x().questionImg," ").concat(x()["question".concat(l,"Img")]),children:(0,c.jsx)(o.default,{className:"".concat(x().img," ").concat(x()["img".concat(l)]),src:r.Z.secForm.Q5.src,alt:"questionImg",width:440,height:202},l)})}})(l),(1===l||4===l)&&(t=>{switch(t){case 1:return(0,c.jsx)("div",{className:"".concat(x().questionTitle," ").concat(x()["question".concat(l,"Title")]),children:(0,c.jsx)("span",{children:"《氣球》許哲珮"})});case 4:return(0,c.jsxs)("div",{className:"".concat(x().questionTitle," ").concat(x()["question".concat(l,"Title")]),children:[(0,c.jsx)("span",{children:"《不是因為天氣晴朗才愛你》"}),(0,c.jsx)("span",{children:"理想混蛋"})]});default:return null}})(l),(t=>{let e=(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("span",{children:"提示：系統將自動播放音訊，請仔細聆聽聲響"})}),s=(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{children:"KKBOX 一般音質：320K"}),(0,c.jsx)("span",{children:"KKBOX Hi-Fi 無損音質：16bit"}),(0,c.jsx)("span",{children:"KKBOX Hi-Fi 無損音質相對於一般音質保留了更多音樂的"}),(0,c.jsx)("span",{children:"細節，如同 CD 版本，能夠更細緻地重現錄音室原音。"})]});switch(window.innerWidth<=481?(e=(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{children:"限播放 1 次"}),(0,c.jsx)("span",{children:"提示：系統將自動播放音訊，請仔細聆聽聲響"})]}),s=(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{children:"KKBOX 一般音質：320K"}),(0,c.jsx)("span",{children:"KKBOX Hi-Fi 無損音質：16bit"}),(0,c.jsx)("span",{children:"KKBOX Hi-Fi 無損音質相對於一般音質保留了"}),(0,c.jsx)("span",{children:"更多音樂的細節，如同 CD 版本，能夠更細緻地"}),(0,c.jsx)("span",{children:"重現錄音室原音。"})]})):(e=(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("span",{children:"提示：系統將自動播放音訊，請仔細聆聽聲響"})}),s=(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{children:"KKBOX 一般音質：320K"}),(0,c.jsx)("span",{children:"KKBOX Hi-Fi 無損音質：16bit"}),(0,c.jsx)("span",{children:"KKBOX Hi-Fi 無損音質相對於一般音質保留了更多音樂的"}),(0,c.jsx)("span",{children:"細節，如同 CD 版本，能夠更細緻地重現錄音室原音。"})]})),t){case 0:return(0,c.jsx)("div",{className:"".concat(x().questionSubText," ").concat(x()["question".concat(l,"SubText")]),children:e});case 1:return(0,c.jsx)("div",{className:"".concat(x().questionSubText," ").concat(x()["question".concat(l,"SubText")]),children:(0,c.jsx)("span",{children:"提示：系統將自動播放音訊，請仔細聆聽歌詞內容"})});case 2:return(0,c.jsx)("div",{className:"".concat(x().questionSubText," ").concat(x()["question".concat(l,"SubText")]),children:(0,c.jsx)("span",{children:"提示：系統將自動播放音訊，請仔細聆聽落水聲次數"})});case 3:return(0,c.jsx)("div",{className:"".concat(x().questionSubText," ").concat(x()["question".concat(l,"SubText")]),children:(0,c.jsx)("span",{children:"提示：系統將自動播放音訊，請仔細聆聽歌曲"})});case 4:return(0,c.jsx)("div",{className:"".concat(x().questionSubText," ").concat(x()["question".concat(l,"SubText")]),children:s});default:return null}})(l),(e=>{switch(e){case 0:return(0,c.jsxs)("div",{className:"".concat(x().questionBtn," ").concat(x()["question".concat(l,"Btn")]),children:[(0,c.jsx)("button",{className:"".concat(x().btn," ").concat(y?x().btnHover:""),onClick:()=>{t("Q1","a"),K()},"data-ga-category":"sony-2024","data-ga-action":"click_question1_A","data-ga-label":"",children:(0,c.jsx)("span",{children:"A. 布穀鳥"})}),(0,c.jsx)("button",{className:"".concat(x().btn," ").concat(y?x().btnHover:""),onClick:()=>{t("Q1","b"),K()},"data-ga-category":"sony-2024","data-ga-action":"click_question1_B","data-ga-label":"",children:(0,c.jsx)("span",{children:"B. 麻雀"})})]});case 1:return(0,c.jsxs)("div",{className:"".concat(x().questionBtn," ").concat(x()["question".concat(l,"Btn")]),children:[(0,c.jsx)("button",{className:"".concat(x().btn," ").concat(y?x().btnHover:""),onClick:()=>{t("Q2","a"),K()},"data-ga-category":"sony-2024","data-ga-action":"click_question2_A","data-ga-label":"",children:(0,c.jsx)("span",{children:"A. 黑的白的紅的黃的紫的綠的藍的灰的"})}),(0,c.jsx)("button",{className:"".concat(x().btn," ").concat(y?x().btnHover:""),onClick:()=>{t("Q2","b"),K()},"data-ga-category":"sony-2024","data-ga-action":"click_question2_B","data-ga-label":"",children:(0,c.jsx)("span",{children:"B. 黑的黃的紅的白的綠的藍的紫的灰的"})})]});case 2:return(0,c.jsxs)("div",{className:"".concat(x().questionBtn," ").concat(x()["question".concat(l,"Btn")]),children:[(0,c.jsx)("button",{className:"".concat(x().btn," ").concat(y?x().btnHover:""),onClick:()=>{t("Q3","a"),K()},"data-ga-category":"sony-2024","data-ga-action":"click_question3_A","data-ga-label":"",children:(0,c.jsx)("span",{children:"A. 3 顆"})}),(0,c.jsx)("button",{className:"".concat(x().btn," ").concat(y?x().btnHover:""),onClick:()=>{t("Q3","b"),K()},"data-ga-category":"sony-2024","data-ga-action":"click_question3_B","data-ga-label":"",children:(0,c.jsx)("span",{children:"B. 5 顆"})})]});case 3:return(0,c.jsxs)("div",{className:"".concat(x().questionBtn," ").concat(x()["question".concat(l,"Btn")]),children:[(0,c.jsx)("button",{className:"".concat(x().btn," ").concat(y?x().btnHover:""),onClick:()=>{t("Q4","a"),K()},"data-ga-category":"sony-2024","data-ga-action":"click_question4_A","data-ga-label":"",children:(0,c.jsx)("span",{children:"A. 3 首"})}),(0,c.jsx)("button",{className:"".concat(x().btn," ").concat(y?x().btnHover:""),onClick:()=>{t("Q4","b"),K()},"data-ga-category":"sony-2024","data-ga-action":"click_question4_B","data-ga-label":"",children:(0,c.jsx)("span",{children:"B. 4 首"})})]});case 4:return(0,c.jsxs)("div",{className:"".concat(x().questionBtn," ").concat(x()["question".concat(l,"Btn")]),children:[(0,c.jsxs)("div",{className:"".concat(x().btnGroup," ").concat(x().btnGroup1),children:[(0,c.jsx)("div",{className:"".concat(x().questionBtnIcon),children:(0,c.jsx)("button",{className:"".concat(x().imgBtn," ").concat(y?x().imgBtnHover:""),children:(0,c.jsxs)("svg",{width:"74",height:"74",viewBox:"0 0 74 74",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"".concat(x().btnIcon),onClick:()=>{B(h.Z.SecFormQ.Q51,0,1)},children:[(0,c.jsx)("circle",{cx:"37",cy:"37",r:"37",fill:"#5E5E5E"}),(0,c.jsx)("path",{d:"M53.5 36.634C54.1667 37.0189 54.1667 37.9811 53.5 38.366L30.25 51.7894C29.5833 52.1743 28.75 51.6932 28.75 50.9234L28.75 24.0766C28.75 23.3068 29.5833 22.8257 30.25 23.2106L53.5 36.634Z",stroke:"#09CEF6","stroke-width":"4"}),(0,c.jsx)("circle",{cx:"37",cy:"37",r:"37",fill:"#5E5E5E"}),(0,c.jsx)("path",{d:"M53.5 36.634C54.1667 37.0189 54.1667 37.9811 53.5 38.366L30.25 51.7894C29.5833 52.1743 28.75 51.6932 28.75 50.9234L28.75 24.0766C28.75 23.3068 29.5833 22.8257 30.25 23.2106L53.5 36.634Z",stroke:"#09CEF6","stroke-width":"4"})]})})}),(0,c.jsx)("button",{className:"".concat(x().btn," ").concat(y?x().btnHover:""),onClick:()=>{t("Q5","a"),K()},"data-ga-category":"sony-2024","data-ga-action":"click_question5_A","data-ga-label":"",children:(0,c.jsx)("span",{children:"A.選這個"})})]}),(0,c.jsxs)("div",{className:"".concat(x().btnGroup," ").concat(x().btnGroup2),children:[(0,c.jsx)("div",{className:"".concat(x().questionBtnIcon),children:(0,c.jsx)("button",{className:"".concat(x().imgBtn," ").concat(y?x().imgBtnHover:""),children:(0,c.jsxs)("svg",{width:"74",height:"74",viewBox:"0 0 74 74",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"".concat(x().btnIcon),onClick:()=>{B(h.Z.SecFormQ.Q52,0,1)},children:[(0,c.jsx)("circle",{cx:"37",cy:"37",r:"37",fill:"#5E5E5E"}),(0,c.jsx)("path",{d:"M53.5 36.634C54.1667 37.0189 54.1667 37.9811 53.5 38.366L30.25 51.7894C29.5833 52.1743 28.75 51.6932 28.75 50.9234L28.75 24.0766C28.75 23.3068 29.5833 22.8257 30.25 23.2106L53.5 36.634Z",stroke:"#09CEF6","stroke-width":"4"}),(0,c.jsx)("circle",{cx:"37",cy:"37",r:"37",fill:"#5E5E5E"}),(0,c.jsx)("path",{d:"M53.5 36.634C54.1667 37.0189 54.1667 37.9811 53.5 38.366L30.25 51.7894C29.5833 52.1743 28.75 51.6932 28.75 50.9234L28.75 24.0766C28.75 23.3068 29.5833 22.8257 30.25 23.2106L53.5 36.634Z",stroke:"#09CEF6","stroke-width":"4"})]})})}),(0,c.jsx)("button",{className:"".concat(x().btn," ").concat(y?x().btnHover:""),onClick:()=>{t("Q5","b"),K()},"data-ga-category":"sony-2024","data-ga-action":"click_question5_B","data-ga-label":"",children:(0,c.jsx)("span",{children:"B. 選這個"})})]})]});case 5:return(0,c.jsxs)("div",{className:"".concat(x().questionBtn," ").concat(x()["question".concat(l,"Btn")]),children:[(0,c.jsx)("button",{className:"".concat(x().btn," ").concat(y?x().btnHover:""),onClick:()=>{t("Q6","a")},"data-ga-category":"sony-2024","data-ga-action":"click_question6_A","data-ga-label":"",children:(0,c.jsx)("span",{children:"A. 豐滿渾厚又細膩的聽感"})}),(0,c.jsx)("button",{className:"".concat(x().btn," ").concat(y?x().btnHover:""),onClick:()=>{t("Q6","b")},"data-ga-category":"sony-2024","data-ga-action":"click_question6_B","data-ga-label":"",children:(0,c.jsx)("span",{children:"B. 節奏明顯的重低音"})}),(0,c.jsx)("button",{className:"".concat(x().btn," ").concat(y?x().btnHover:""),onClick:()=>{t("Q6","c")},"data-ga-category":"sony-2024","data-ga-action":"click_question6_C","data-ga-label":"",children:(0,c.jsx)("span",{children:"C. 通透感強，可以隨時和外界連結"})})]});default:return null}})(l)]})},[l,H,null==L?void 0:L.length]);return(0,c.jsxs)("div",{className:"".concat(x().secFormContainer),children:[D,(0,c.jsx)("audio",{ref:_,src:m}),(0,c.jsx)("audio",{ref:F,src:h.Z.SecFormQ.Q31}),(0,c.jsx)("audio",{ref:g,src:h.Z.SecFormQ.Q32}),(0,c.jsx)("audio",{ref:T,src:h.Z.SecFormQ.Q41}),(0,c.jsx)("audio",{ref:v,src:h.Z.SecFormQ.Q42}),(0,c.jsx)("audio",{ref:b,src:h.Z.SecFormQ.Q43}),(0,c.jsx)("audio",{ref:q,src:h.Z.SecFormQ.Q44})]})},g=s(2756),T=s(9376),v=s(7882),b=s.n(v),q=t=>{let{data:e}=t,{setGlobalBGMEnabled:n}=(0,g.x)(),[_,x]=(0,i.useState)(!1),[h,j]=(0,i.useState)(r.Z.Test.BG.src),[v,q]=(0,i.useState)(r.Z.secForm.Sec1.src),[S,N]=(0,i.useState)(r.Z.Homepage.Lady.src),[B,f]=(0,i.useState)(r.Z.Test.BG.src),[C,y]=(0,i.useState)(0),{formData:w,handleSetForm:k,handleCalculator:I}=(0,g.x)(),[Q,A]=(0,i.useState)(!1),[Z,G]=(0,i.useState)(22),[H,E]=(0,i.useState)("開啟聲音 開始測驗"),[L,K]=(0,i.useState)(31),[M,O]=(0,i.useState)(100),[D,R]=(0,i.useState)(!0);(0,i.useEffect)(()=>{let t=()=>{window.innerWidth<=481?(G(20),E("開啟聲音"),K(31),O(100),R(!1),N(r.Z.Homepage.LadyMB.src)):(G(22),E("開啟聲音 開始測驗"),K(31),O(100),R(!0),N(r.Z.Homepage.Lady.src))};return t(),n(!0),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]);let[V,W]=(0,i.useState)(!1),X=()=>{var t;(null==w?void 0:null===(t=w.name)||void 0===t?void 0:t.trim())?y(t=>t+1):x(!0)},[P,J]=(0,i.useState)(0),U=()=>{W(!0),X()},z=t=>{k({...w,secForm:t})},Y=t=>{var e;k({...w,[t.target.name]:t.target.value}),(null===(e=t.target.value)||void 0===e?void 0:e.trim())!==""&&A(!1)},$=()=>{I(w),te()},tt=(0,T.useRouter)(),te=()=>{tt.push("/page/result")},[ts,tc]=(0,i.useState)(!1),[tn,ta]=(0,i.useState)(!1),[to,tr]=(0,i.useState)(h),[ti,tl]=(0,i.useState)(v),[tu,tm]=(0,i.useState)(null),[td,t_]=(0,i.useState)(null),[tx,th]=(0,i.useState)(!1),[tp,tj]=(0,i.useState)(0),[tF,tg]=(0,i.useState)(!1);(0,i.useEffect)(()=>{h!==to&&(tm(h),tc(!0),th(!1)),v!==ti&&(t_(v),ta(!0))},[h,to,ti,v]),(0,i.useEffect)(()=>{[r.Z.Test.BG.src,r.Z.Test.BG4.src,r.Z.Test.TestSecBG.src,r.Z.Homepage.MobileBG.src,r.Z.secForm.Sec1.src,r.Z.secForm.Sec2.src,r.Z.secForm.Sec3.src,r.Z.secForm.Sec4.src,r.Z.secForm.Sec5.src,r.Z.secForm.Sec6.src].forEach(t=>{new(window.Image||o.default)().src=t})},[]),(0,i.useEffect)(()=>{((t,e)=>{switch(t){case 0:case 1:case 2:case 5:default:j(r.Z.Test.BG.src);break;case 3:window.innerWidth<=481&&3===C?j(r.Z.Homepage.MobileBG.src):j(r.Z.Test.BG4.src);break;case 4:j(r.Z.Test.TestSecBG.src)}switch(e){case 0:default:q(r.Z.secForm.Sec1.src);break;case 1:q(r.Z.secForm.Sec2.src);break;case 2:q(r.Z.secForm.Sec3.src);break;case 3:q(r.Z.secForm.Sec4.src);break;case 4:q(r.Z.secForm.Sec5.src);break;case 5:q(r.Z.secForm.Sec6.src)}})(C,P),3===C&&n(!1)},[C,P,n]);let[tT,tv]=(0,i.useState)(0),[tb,tq]=(0,i.useState)(!1),[tS,tN]=(0,i.useState)(!0),[tB,tf]=(0,i.useState)(!0);(0,i.useEffect)(()=>{let t;return(1===C||2===C)&&(t=setInterval(()=>{tq(!1),tv(t=>t+1)},1e3)),(1===C||2===C)&&4===tT&&(setTimeout(()=>tq(!0),1e3),tf(!0)),5===tT&&tB&&(clearInterval(t),tf(!1),setTimeout(()=>{tv(0),tF||X()},1e3)),1===C&&tT>=2&&tj(1),()=>clearInterval(t)},[tT,C,tS]);let tC=t=>({opacity:!tb&&tT>=t?1:0,visibility:tT>=t?"visible":"hidden",transition:"opacity 0.3s ease-in-out"}),ty=(0,i.useMemo)(()=>(0,c.jsx)("div",{className:"".concat(a().ladyImg),children:(0,c.jsx)(o.default,{className:a().img,src:S,alt:"iconDonutChart",width:2880,height:1660})}),[S]),[tw,tk]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{try{let t=await s.e(994).then(s.t.bind(s,7994,19));tk(t.default)}catch(t){console.error("Failed to load animation:",t)}})()},[]),(0,i.useMemo)(()=>(0,c.jsx)("div",{className:"".concat(a().homepageBanner)}),[]),(0,i.useMemo)(()=>(0,c.jsx)("div",{className:"".concat(a().homepageTest),children:(0,c.jsxs)("div",{className:a().buttonsContainer,children:[(0,c.jsx)("span",{children:"完成測驗、獲得命定 Sony 耳機推薦，回填資料再抽萬元好禮"}),(0,c.jsxs)("button",{className:"".concat(a().testBtn," ").concat(D?a().testBtnHover:""),children:[(0,c.jsx)("span",{children:"進入測驗"}),(0,c.jsx)("div",{className:"".concat(a().homepageIcon),children:(0,c.jsx)(o.default,{className:a().homepage_arrow,src:r.Z.Homepage.Arrow,alt:"iconDonutChart",width:22,height:22})})]})]})}),[]),(0,c.jsxs)("div",{className:"page ".concat(a().testContainer),onClick:()=>{tS&&!(tT>=5)&&(1==C||2==C)&&(tq(!1),tv(t=>t+1),tN(!1),setTimeout(()=>tN(!0),300))},children:[(0,c.jsx)("div",{className:"\n          ".concat(a().backgroundLayer,"\n          ").concat(a().static,"\n          ").concat(ts?a().fadeOut:"","\n          "),style:{backgroundImage:"url(".concat(to,")")}}),4===C&&(0,c.jsx)("div",{className:"\n            ".concat(a().backgroundLayer,"\n            ").concat(a().static,"\n            ").concat(tn?a().fadeOut:"","\n            "),style:{backgroundImage:"url(".concat(ti,")")}}),ts&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:"".concat(a().backgroundLayer," ").concat(a().fadeIn),style:{backgroundImage:"url(".concat(h,")")},onAnimationEnd:()=>{ts&&(tr(tu),tm(null),tc(!1),th(!0))}})}),4===C&&tn&&(0,c.jsx)("div",{className:"".concat(a().backgroundLayer," ").concat(a().fadeIn),style:{backgroundImage:"url(".concat(v,")")},onAnimationEnd:()=>{tn&&(tl(td),t_(null),ta(!1))}}),(0,c.jsx)("div",{className:"".concat(a().testFormGroup),children:(0,c.jsxs)("div",{className:"".concat(a().testFormActive),children:[(t=>{let e=5===t;return(0,c.jsx)("div",{className:"testBGAnime ".concat(a().testBGAnime," ").concat(e?a().testBGAnime2:a().testBGAnime1," ").concat(a()["step".concat(t)]),children:4!=C&&(0,c.jsx)(b(),{className:a().bg,autoplay:!0,loop:!0,animationData:p.Z.Anime.Wave,style:{height:"auto",width:e?"110vw":"200vw"}})})})(C),3===C&&(0,c.jsx)("div",{className:"".concat(a().testBackGroundLadyImg),children:ty}),(t=>{let e=(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("span",{children:["Hello ",null==w?void 0:w.name]}),(0,c.jsx)("span",{children:"你已通過音享女神的考驗"}),(0,c.jsx)("span",{children:"打開寶箱，領取你的耳力結果和命定耳機吧！"})]});switch(e=window.innerWidth<=481?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("span",{children:["Hello ",null==w?void 0:w.name]}),(0,c.jsx)("span",{children:"你已通過音享女神的考驗"}),(0,c.jsx)("span",{children:"打開寶箱，"}),(0,c.jsx)("span",{children:"領取你的耳力結果和命定耳機吧！"})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("span",{children:["Hello ",null==w?void 0:w.name]}),(0,c.jsx)("span",{children:"你已通過音享女神的考驗"}),(0,c.jsx)("span",{children:"打開寶箱，領取你的耳力結果和命定耳機吧！"})]}),t){case 0:return(0,c.jsx)("div",{className:"".concat(a().testForm," ").concat(a().testForm1),children:(0,c.jsxs)("div",{className:"".concat(a().testFormContainer," ").concat(a().testForm1Container),children:[(0,c.jsx)("span",{className:"".concat(a().testFormText," ").concat(a().testForm1Text," ").concat(a().testForm1Text1),children:"請問要怎麼稱呼你呢？"}),(0,c.jsx)(l.Z,{className:"".concat(a().testFormInput," ").concat(a().testForm1Input1),name:"name",value:w.name,onChange:Y,fullWidth:!0,margin:"normal",sx:{backgroundColor:"white",height:"70px",maxWidth:"616px","& .MuiInputBase-root":{height:"100%"}},error:Q,helperText:Q?"此欄位為必填":""}),(0,c.jsx)("span",{className:"".concat(a().testFormText," ").concat(a().testForm1Text," ").concat(a().testForm1Text2),children:"貼心提醒！戴上耳機體驗更佳"}),(0,c.jsxs)("button",{className:"".concat(a().testFormBtn," ").concat(a().testForm1Btn," ").concat(D?a().testFormBtnHover:""),onClick:()=>{X()},"data-ga-category":"sony-2024","data-ga-action":"click_name_sent","data-ga-label":"",children:[(0,c.jsx)("span",{children:"繼續"}),(0,c.jsx)("div",{className:"".concat(a().testIcon),children:(0,c.jsx)("svg",{width:"23",height:"16",viewBox:"0 0 23 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M22.7071 8.70711C23.0976 8.31658 23.0976 7.68342 22.7071 7.29289L16.3431 0.928932C15.9526 0.538408 15.3195 0.538408 14.9289 0.928932C14.5384 1.31946 14.5384 1.95262 14.9289 2.34315L20.5858 8L14.9289 13.6569C14.5384 14.0474 14.5384 14.6805 14.9289 15.0711C15.3195 15.4616 15.9526 15.4616 16.3431 15.0711L22.7071 8.70711ZM0 9H22V7H0V9Z",fill:"white"})})})]})]})});case 1:return(0,c.jsx)("div",{className:"".concat(a().testForm," ").concat(a().testForm2),children:(0,c.jsxs)("div",{className:"".concat(a().testFormContainer," ").concat(a().testForm2Container),children:[(0,c.jsx)("span",{className:"".concat(a().testFormText," ").concat(a().testForm2Text," ").concat(a().testForm2Text1),style:tC(1),children:"在一個風和日麗、平凡的一天"}),(0,c.jsxs)("span",{className:"".concat(a().testFormText," ").concat(a().testForm2Text," ").concat(a().testForm2Text2),style:tC(2),children:[w.name," 獨自戴著耳機、聽著音樂"]}),(0,c.jsx)("span",{className:"".concat(a().testFormText," ").concat(a().testForm2Text," ").concat(a().testForm2Text3),style:tC(3),children:"雀躍地走在森林間"}),(0,c.jsx)("span",{className:"".concat(a().testFormText," ").concat(a().testForm2Text," ").concat(a().testForm2Text4),style:tC(4),children:"而眼前有一座華麗的噴水池 ‧‧‧"})]})});case 2:return(0,c.jsx)("div",{className:"".concat(a().testForm," ").concat(a().testForm3),children:(0,c.jsxs)("div",{className:"".concat(a().testFormContainer," ").concat(a().testForm3Container),children:[(0,c.jsx)("span",{className:"".concat(a().testFormText," ").concat(a().testForm3Text," ").concat(a().testForm3Text1),style:tC(1),children:"突然！腳下絆到一顆大石頭"}),(0,c.jsx)("span",{className:"".concat(a().testFormText," ").concat(a().testForm3Text," ").concat(a().testForm3Text2),style:tC(2),children:"在你往前撲倒的同時"}),(0,c.jsx)("span",{className:"".concat(a().testFormText," ").concat(a().testForm3Text," ").concat(a().testForm3Text3),style:tC(3),children:"耳機就這樣飛～出去，掉進噴水池裡"}),(0,c.jsx)("span",{className:"".concat(a().testFormText," ").concat(a().testForm3Text," ").concat(a().testForm3Text4),style:tC(4),children:"而眼前出現一陣白光 ‧‧‧"})]})});case 3:return(0,c.jsx)("div",{className:"".concat(a().testForm," ").concat(a().testForm4),children:(0,c.jsxs)("div",{className:"".concat(a().testFormContainer," ").concat(a().testForm4Container),children:[(0,c.jsxs)("div",{className:"".concat(a().testFormTextGroup," ").concat(a().testForm4TextGroup),children:[(0,c.jsxs)("div",{className:"testAnimeGroup ".concat(a().testAnimeGroup),children:[(0,c.jsx)("div",{className:"testAnime ".concat(a().testAnime," ").concat(a().testAnime1),children:(0,c.jsx)(o.default,{className:a().p1,src:r.Z.Test.product1,alt:"iconDonutChart",width:236,height:244})}),(0,c.jsx)("div",{className:"testAnime ".concat(a().testAnime," ").concat(a().testAnime2),children:(0,c.jsx)(o.default,{className:a().p2,src:r.Z.Test.product2,alt:"iconDonutChart",width:236,height:244})}),(0,c.jsx)("div",{className:"testAnime ".concat(a().testAnime," ").concat(a().testAnime3),children:(0,c.jsx)(o.default,{className:a().p3,src:r.Z.Test.product3,alt:"iconDonutChart",width:236,height:236})})]}),(0,c.jsxs)("span",{className:"".concat(a().testFormText," ").concat(a().testForm4Text," ").concat(a().testForm4Text1),children:[w.name," 你好，我是 Sony 音享女神，"]}),(0,c.jsx)("span",{className:"".concat(a().testFormText," ").concat(a().testForm4Text," ").concat(a().testForm4Text2),children:"你掉的是金耳機還是銀耳機呢？"}),(0,c.jsx)("span",{className:"".concat(a().testFormText," ").concat(a().testForm4Text," ").concat(a().testForm4Text3),children:"完成耳力測驗，帶回你的命定耳機吧！"})]}),(0,c.jsx)("div",{className:"".concat(a().testFormBtnGroup," ").concat(a().testForm4BtnGroup),children:(0,c.jsxs)("button",{className:"".concat(a().testFormBtn," ").concat(a().testForm4Btn,"  ").concat(D?a().testFormBtnHover:""),onClick:()=>{X()},"data-ga-category":"sony-2024","data-ga-action":"click_frontpage_start","data-ga-label":"",children:[(0,c.jsx)("span",{children:H}),(0,c.jsx)("div",{className:"".concat(a().testIcon),children:(0,c.jsx)("svg",{width:"23",height:"16",viewBox:"0 0 23 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M22.7071 8.70711C23.0976 8.31658 23.0976 7.68342 22.7071 7.29289L16.3431 0.928932C15.9526 0.538408 15.3195 0.538408 14.9289 0.928932C14.5384 1.31946 14.5384 1.95262 14.9289 2.34315L20.5858 8L14.9289 13.6569C14.5384 14.0474 14.5384 14.6805 14.9289 15.0711C15.3195 15.4616 15.9526 15.4616 16.3431 15.0711L22.7071 8.70711ZM0 9H22V7H0V9Z",fill:"white"})})})]})})]})});case 4:return(0,c.jsx)("div",{className:"".concat(a().testForm," ").concat(a().testForm5),children:(0,c.jsx)("div",{className:"".concat(a().testFormContainer," ").concat(a().testForm5Container),children:(0,c.jsx)(F,{onComplete:U,onSubmit:z,secActiveStep:J})})});case 5:return(0,c.jsx)("div",{className:"".concat(a().testForm," ").concat(a().testForm6),children:(0,c.jsxs)("div",{className:"".concat(a().testFormContainer," ").concat(a().testForm6Container),children:[(0,c.jsx)("div",{className:"".concat(a().testFormText," ").concat(a().testForm6Text," ").concat(a().testForm6Text1),children:e}),(0,c.jsx)("div",{className:"".concat(a().testForm5Img," testForm5Img"),children:(0,c.jsx)(b(),{className:"".concat(a().img),autoplay:!0,loop:!0,animationData:tw,style:{height:"auto",width:"auto"}})}),(0,c.jsx)("button",{className:"".concat(a().testFormBtn," ").concat(a().testForm5Btn,"  ").concat(D?a().testFormBtnHover:""),onClick:()=>{$()},"data-ga-category":"sony-2024","data-ga-action":"click_frontpage_open","data-ga-label":"",children:(0,c.jsx)("span",{children:"開啟寶箱"})})]})});default:return null}})(C),(1===C||2===C)&&(0,c.jsx)(u.Z,{className:"".concat(a().testFormText," ").concat(a().skipBtn),style:{opacity:tp,visibility:tp?"visible":"hidden",transition:"opacity 0.3s ease-in-out"},onClick:()=>{y(3),tg(!0)},children:"SKIP"})]})}),(0,c.jsx)(m.Z,{open:_,onClose:()=>x(!1),className:"checkModal",children:(0,c.jsxs)(d.Z,{className:"popupBox",children:[(0,c.jsx)("div",{className:"closeBtn",onClick:()=>x(!1),children:(0,c.jsx)(o.default,{className:"img",src:r.Z.result.Close.src,alt:"iconDonutChart",width:24,height:24})}),(0,c.jsx)("div",{className:"awardsCodeTC",children:(0,c.jsx)("span",{children:"請輸入你的稱呼"})})]})})]})}},6625:function(t){t.exports={secFormContainer:"Sec_secFormContainer__o0z0n",question:"Sec_question__vgFG9",questionStep:"Sec_questionStep__nLo6i",questionStepBarGroup:"Sec_questionStepBarGroup__rVF5l",active:"Sec_active__6yWxN",questionStepBarNum:"Sec_questionStepBarNum__F3CSY",questionText:"Sec_questionText__Ob3e7",questionImg:"Sec_questionImg__1_vmw",questionSubText:"Sec_questionSubText__PfXEk",questionTitle:"Sec_questionTitle__b_Hdz",questionBtn:"Sec_questionBtn__hbTRw",btn:"Sec_btn__VruaA",btnHover:"Sec_btnHover__bh_SJ",question1Img:"Sec_question1Img__w1t7G",img:"Sec_img__s80Ng",question3Text:"Sec_question3Text__Uo_OK",question3Img:"Sec_question3Img__easrV",question3SubText:"Sec_question3SubText__Hi_nx",question3Btn:"Sec_question3Btn__jRSrc",question4Text:"Sec_question4Text__B4e_D",question4Img:"Sec_question4Img__IawqX",question4Title:"Sec_question4Title__Foehm",question4SubText:"Sec_question4SubText__ey2HQ",question4Btn:"Sec_question4Btn__D_WeB",btnGroup:"Sec_btnGroup___UFcH",questionBtnIcon:"Sec_questionBtnIcon__yUFI8",imgBtn:"Sec_imgBtn__BmiwA",imgBtnHover:"Sec_imgBtnHover__fP7n2",btnGroup1:"Sec_btnGroup1__FfoDz",question5Text:"Sec_question5Text__6AdaQ",question5Btn:"Sec_question5Btn__7iPUf",question0SubText:"Sec_question0SubText__7jZpA",question1:"Sec_question1__lz0PK",question2:"Sec_question2__DlbXI",question3:"Sec_question3__9uZ4L",question4:"Sec_question4__jRsJJ",question5:"Sec_question5__ktUCs"}},2399:function(t){t.exports={testContainer:"Test_testContainer__uJDNB",backgroundLayer:"Test_backgroundLayer___JrvA",fadeIn:"Test_fadeIn__1ZRl6",fadeOut:"Test_fadeOut__hUmBz",static:"Test_static__Izhnv",testBackGroundImg:"Test_testBackGroundImg__SWOJo",backgroundImg:"Test_backgroundImg__5fD9W",background:"Test_background__UZkf0",testFormGroup:"Test_testFormGroup__A5fuE",testFormActive:"Test_testFormActive__niXGG",testBGAnime:"Test_testBGAnime__uOVJy",bg:"Test_bg__ioswR",testBGAnime2:"Test_testBGAnime2___VJOe",testBackGroundLadyImg:"Test_testBackGroundLadyImg__1MVZy",ladyImg:"Test_ladyImg__H3QeW",img:"Test_img__KJrcV",step3:"Test_step3__P5IhZ",testForm:"Test_testForm__3fd4h",testFormContainer:"Test_testFormContainer__T1_sU",testFormText:"Test_testFormText__d46_9",testFormInput:"Test_testFormInput__JeYao",testFormBtn:"Test_testFormBtn__6al_u",testFormBtnHover:"Test_testFormBtnHover__EifIy",testIcon:"Test_testIcon__xDja9",testForm1:"Test_testForm1__tX8cR",testForm1Text1:"Test_testForm1Text1__Ni_Fr",testForm1Input1:"Test_testForm1Input1__f4eE_",testForm1Text2:"Test_testForm1Text2__girCl",testForm1Btn:"Test_testForm1Btn__9s7AC",testForm2:"Test_testForm2__CS5zm",testForm2Container:"Test_testForm2Container__LDswN",testForm2Text:"Test_testForm2Text__aL_lu",testForm3:"Test_testForm3__e95Iz",testForm3Container:"Test_testForm3Container__WHsFQ",testForm3Text:"Test_testForm3Text__k9Pvs",testForm4:"Test_testForm4__146UX",testProductContainer:"Test_testProductContainer__WooWV",testForm4Container:"Test_testForm4Container__Np59U",testAnimeGroup:"Test_testAnimeGroup__aHggr",testAnime:"Test_testAnime__tkKyw",testAnime1:"Test_testAnime1__iVap9",p1:"Test_p1__sVTLg",p1Anime:"Test_p1Anime__r75eY",testAnime2:"Test_testAnime2__FAo2a",p2:"Test_p2__UmL04",p2Anime:"Test_p2Anime__xmuUL",testAnime3:"Test_testAnime3__logJT",p3:"Test_p3__lq_Cr",p3Anime:"Test_p3Anime__HVFCL",testForm4TextGroup:"Test_testForm4TextGroup__U4L_q",testForm4Text:"Test_testForm4Text__Dv4RU",testForm4BtnGroup:"Test_testForm4BtnGroup__4n3AV",testForm4Btn:"Test_testForm4Btn__9tis4",testForm5:"Test_testForm5__I6MVq",testForm6:"Test_testForm6__YSwlo",testForm6Container:"Test_testForm6Container__luCFk",testForm6Text:"Test_testForm6Text__Rkzgm",testForm5Img:"Test_testForm5Img__xijOb",testForm5Btn:"Test_testForm5Btn__l1m4O",skipBtn:"Test_skipBtn__6aM0G",testFormTextGroup:"Test_testFormTextGroup__qoAi5",product1:"Test_product1__G5GFs",product2:"Test_product2__JSBO6",product3:"Test_product3__8bz9G",testForm4Text1:"Test_testForm4Text1__WXHId",testFormBtnGroup:"Test_testFormBtnGroup__h4z7I"}}},function(t){t.O(0,[694,705,943,840,651,175,971,117,744],function(){return t(t.s=9112)}),_N_E=t.O()}]);